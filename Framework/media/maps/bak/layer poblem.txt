Get the original layerid ... store it. Get the new id, store it.


Get the sprite of the original layerid that are to be re-layered... renumber them really high



1
2
3
4
5
6
7
8


WE SHOULD ONLY ALLOW LAYERS TO BE MOVED IN INCREMENTS OF ONE!!!
DISABLE THE MOVE BUTTON UNTIL THE LAYER REINDEX IS COMPLETE !!!



MOVING DOWN THE LIST...

1. renumber orig layer to 99999

2. renumber layer immediately below orig layer to its layerid - 1 (except when new layer = itemindex 1)

3. renumber layer immediately above orig layer to ite layer - 1

4. renumber anything ABOVE new layerid to its layerid + 1

5. renumber 99999 to new layerid 

do a TGazzMap.CreateFileContents(self, FMapStringList, MapBackground);

lets say 2 becomes 4

so... 
2 becomes 99999




MOVING UP THE LIST...

1. renumber orig layer to 99999

2. renumber layers below orig layer its layer + 1 (except when new layer = itemindex 1)

3. renumber anything ABOVE new layerid to its layerid - 1

4. renumber 99999 to new layerid

do a TGazzMap.CreateFileContents(self, FMapStringList, MapBackground);


lets say 7 becomes 6

so...
7 -- 99999



HELL... if I am only swapping two layers around... orig layer id = new layer id.... and vice versa !!!!


SO moving down the list (layer id increasing)

lets say 6 to 7

6 -- 99999
7 -- 6
99999 - 7

FUCKING DONE!


AND moving up the list (layer id decreasing)

lets say 7 to 6

7 -- 99999
6 -- 7
99999 -- 6

FUCKING DONE!





















sbMain.Panels[0].Text := 'Media Files Count: ' + inttostr(lstManifest.ItemCount);








































